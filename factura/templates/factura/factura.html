{% extends 'factura/head.html' %}

{% block content %}

{% block hero %}
    <div class="container hero pt-2">
      <div class="pt-2 px-4 mx-4 my-4 py-4 text-center legend">
        <h1 class="display-4 fw-bold">FACTURA</h1>
      </div>
    </div>
{% endblock hero %}

<html>
    {% for dato in datos %}
    <div class="container">
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
            <tr>
                <th>Datos</th>
                <td></td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th>Número</th>
                <td>{{ dato.num }}</td>
            </tr>
            <tr>
                <th>Año</th>
                <td>{{ dato.anio }}</td>
            </tr>
            <tr>
                <th>Fecha de emisión</th>
                <td>{{ dato.fecha_emision }}</td>
            </tr>
            <tr>
                <th>Nombre del cliente</th>
                <td>{{ dato.cliente_nombre }}</td>
            </tr>
            <tr>
                <th>Dirección del cliente</th>
                <td>{{ dato.cliente_direccion }}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="container">
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
            <tr>
                <th>Contenido</th>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th>Producto</th>
                <th>Precio unitario</th>
                <th>Unidades</th>
                <th>Precio real</th>
            </tr>
            {% for fila in filas %}
                {% if fila.factura.id == dato.id %}
                    <tr>
                        <td>{{ fila.nombre_producto }}</td>
                        <td>{{ fila.precio_unitario }}</td>
                        <td>{{ fila.unidades }}</td>
                        <td>{{ fila.precio_real }}</td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="container">
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
                <th>Resultado</th>
                <td></td>
            </thead>
            <tbody>
            <tr>
                <th>Importe total</th>
                <td>{{ total }}</td>
            </tr>
            <tr>
                <th>Importe total + IVA</th>
                <td>{{ total_iva }}</td>
            </tr>
            </tbody>
        </table>
    </div>
    {% endfor %}
</html>
{% endblock content %}